<svg xmlns="http://www.w3.org/2000/svg" id="mermaid-1583545615601" width="1063.578" height="1395.322" viewBox="0 0 1063.578 1395.322"><style>#mermaid-1583545615601 .label{font-family:&apos;trebuchet ms&apos;,verdana,arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1583545615601 .node circle,#mermaid-1583545615601 .node path,#mermaid-1583545615601 .node polygon,#mermaid-1583545615601 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1583545615601 .node .label{text-align:center}#mermaid-1583545615601 .arrowheadPath{fill:#333}#mermaid-1583545615601 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1583545615601 .edgeLabel{background-color:#e8e8e8;text-align:center}:root{--mermaid-font-family:&apos;&quot;trebuchet ms&quot;, verdana, arial&apos;;--mermaid-font-family:&quot;Comic Sans MS&quot;, &quot;Comic Sans&quot;, cursive;--mermaid-font-family:&quot;trebuchet ms&quot;, verdana, arial}</style><style>#mermaid-1583545615601{color:#000;font:16px &quot;trebuchet ms&quot;,verdana,arial}</style><g><g class="output"><g class="edgePaths"><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1194)" d="M526.234375,71.765625L526.234375,96.765625L526.234375,121.765625" class="path"/><defs><marker id="arrowhead1194" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1195)" d="M526.234375,165.515625L526.234375,190.515625L526.734375,216.01562805175791" class="path"/><defs><marker id="arrowhead1195" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1196)" d="M389.49443527473943,535.8913133264972L127.3203125,709.5062561035156L127.3203125,768.2562561035156L127.3203125,827.0062561035156L127.3203125,1015.4609375L127.3203125,1203.9156188964844L127.3203125,1240.7906188964844" class="path"/><defs><marker id="arrowhead1196" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1197)" d="M624.0108555991653,575.8547663490767L722.9140625,709.5062561035156L722.9140625,746.3812561035156" class="path"/><defs><marker id="arrowhead1197" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1198)" d="M722.9140625,790.1312561035156L722.9140625,827.0062561035156L723.4140625,864.3812622070311" class="path"/><defs><marker id="arrowhead1198" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1199)" d="M644.9510933884508,1089.0776558884504L520.6796875,1203.9156188964844L520.6796875,1240.7906188964844" class="path"/><defs><marker id="arrowhead1199" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1200)" d="M801.8770379303378,1089.0776617766937L925.1484375,1203.9156188964844L925.1484375,1240.7906188964844" class="path"/><defs><marker id="arrowhead1200" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1201)" d="M127.3203125,1284.5406188964844L127.3203125,1309.5406188964844L494.51144059775703,1357.5124806765648" class="path"/><defs><marker id="arrowhead1201" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1202)" d="M520.6796875,1284.5406188964844L520.6796875,1309.5406188964844L520.6796875,1334.5406188964844" class="path"/><defs><marker id="arrowhead1202" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead1203)" d="M925.1484375,1284.5406188964844L925.1484375,1309.5406188964844L546.8598388327898,1357.6048698822085" class="path"/><defs><marker id="arrowhead1203" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g></g><g class="edgeLabels"><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(127.3203125,827.0062561035156) translate(-14.15625,-11.875)"><foreignObject width="28.32" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(722.9140625,709.5062561035156) translate(-11.7421875,-11.875)"><foreignObject width="23.496" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">No</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(520.6796875,1203.9156188964844) translate(-14.15625,-11.875)"><foreignObject width="28.32" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(925.1484375,1203.9156188964844) translate(-11.7421875,-11.875)"><foreignObject width="23.496" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">No</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g></g><g class="nodes" transform="translate(0, 0)"><g style="opacity:1" id="Start" class="node" transform="translate(526.234375,39.8828125)"><circle x="-31.883" y="-21.875" r="31.883" class="label-container"/><g class="label"><g transform="translate(0,0) translate(-21.8828125,-11.875)"><foreignObject width="43.77" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Start</div></foreignObject></g></g></g><g style="opacity:1" id="RecognizeToken" class="node" transform="translate(526.234375,143.640625)"><rect width="401.563" height="43.75" x="-200.781" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-190.78125,-11.875)"><foreignObject width="381.563" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Run Token Recognizer and try to get Token</div></foreignObject></g></g></g><g style="opacity:1" id="Timeout" class="node" transform="translate(526.234375,444.0734405517578)"><polygon points="228.558 0 457.116 -228.558 228.558 -457.116 0 -228.558" class="label-container" transform="translate(-228.5578125,228.5578125)"/><g class="label"><g transform="translate(0,0) translate(-222.078125,-11.875)"><foreignObject width="444.16" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Did we time out waiting for user to authenticate?</div></foreignObject></g></g></g><g style="opacity:1" id="EndDialogNoResult" class="node" transform="translate(127.3203125,1262.6656188964844)"><rect width="238.641" height="43.75" x="-119.32" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-109.3203125,-11.875)"><foreignObject width="218.652" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">EndDialog with no result</div></foreignObject></g></g></g><g style="opacity:1" id="Validator" class="node" transform="translate(722.9140625,768.2562561035156)"><rect width="255.156" height="43.75" x="-127.578" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-117.578125,-11.875)"><foreignObject width="235.156" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Run any Prompt Validators</div></foreignObject></g></g></g><g style="opacity:1" id="IsValid" class="node" transform="translate(722.9140625,1015.4609375)"><polygon points="151.58 0 303.159 -151.58 151.58 -303.159 0 -151.58" class="label-container" transform="translate(-151.5796875,151.5796875)"/><g class="label"><g transform="translate(0,0) translate(-136.546875,-11.875)"><foreignObject width="273.105" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Is the Recognized Result valid?</div></foreignObject></g></g></g><g style="opacity:1" id="EndDialogReturningValue" class="node" transform="translate(520.6796875,1262.6656188964844)"><rect width="448.078" height="43.75" x="-224.039" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-214.0390625,-11.875)"><foreignObject width="428.086" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">EndDialog returning the recognized Token value</div></foreignObject></g></g></g><g style="opacity:1" id="RepromptOrEndTurn" class="node" transform="translate(925.1484375,1262.6656188964844)"><rect width="260.859" height="43.75" x="-130.43" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-120.4296875,-11.875)"><foreignObject width="240.859" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Reprompt User or End Turn</div></foreignObject></g></g></g><g style="opacity:1" id="End" class="node" transform="translate(520.6796875,1360.9312438964844)"><circle x="-26.391" y="-21.875" r="26.391" class="label-container"/><g class="label"><g transform="translate(0,0) translate(-16.390625,-11.875)"><foreignObject width="32.793" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">End</div></foreignObject></g></g></g></g></g></g></svg>