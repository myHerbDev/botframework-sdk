<svg xmlns="http://www.w3.org/2000/svg" id="mermaid-1583961315362" width="1125.141" height="1169.123" viewBox="0 0 1125.141 1169.123"><style>#mermaid-1583961315362 .label{font-family:&apos;trebuchet ms&apos;,verdana,arial;font-family:var(--mermaid-font-family);color:#333}#mermaid-1583961315362 .node circle,#mermaid-1583961315362 .node path,#mermaid-1583961315362 .node polygon,#mermaid-1583961315362 .node rect{fill:#ececff;stroke:#9370db;stroke-width:1px}#mermaid-1583961315362 .node .label{text-align:center}#mermaid-1583961315362 .arrowheadPath{fill:#333}#mermaid-1583961315362 .edgePath .path{stroke:#333;stroke-width:1.5px}#mermaid-1583961315362 .edgeLabel{background-color:#e8e8e8;text-align:center}:root{--mermaid-font-family:&apos;&quot;trebuchet ms&quot;, verdana, arial&apos;;--mermaid-font-family:&quot;Comic Sans MS&quot;, &quot;Comic Sans&quot;, cursive;--mermaid-font-family:&quot;trebuchet ms&quot;, verdana, arial}</style><style>#mermaid-1583961315362{color:#000;font:16px &quot;trebuchet ms&quot;,verdana,arial}</style><g><g class="output"><g class="edgePaths"><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead500)" d="M540.125,71.765625L540.125,96.765625L540.625,122.2656311035156" class="path"/><defs><marker id="arrowhead500" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead501)" d="M419.15261610524664,395.99167250173105L165.984375,553.8390502929688L165.984375,765.7781066894531L165.984375,977.7171630859375L165.984375,1014.5921630859375" class="path"/><defs><marker id="arrowhead501" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead502)" d="M625.3081823369434,432.78088626657217L715.97265625,553.8390502929688L716.47265625,591.214056396484" class="path"/><defs><marker id="arrowhead502" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead503)" d="M631.8523181324069,856.7218310718596L517.6796875,977.7171630859375L517.6796875,1014.5921630859375" class="path"/><defs><marker id="arrowhead503" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead504)" d="M801.0930002680798,856.7218373784049L914.265625,977.7171630859375L914.265625,1014.5921630859375" class="path"/><defs><marker id="arrowhead504" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead505)" d="M165.984375,1058.3421630859375L165.984375,1083.3421630859375L491.5663732721082,1130.9170433452603" class="path"/><defs><marker id="arrowhead505" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead506)" d="M517.6796875,1058.3421630859375L517.6796875,1083.3421630859375L517.6796875,1108.3421630859375" class="path"/><defs><marker id="arrowhead506" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g><g style="opacity:1" class="edgePath" transform="translate(0, 0)"><path style="fill:none" marker-end="url(#arrowhead507)" d="M914.265625,1058.3421630859375L914.265625,1083.3421630859375L543.8514934548597,1131.3413782092346" class="path"/><defs><marker id="arrowhead507" markerHeight="6" markerUnits="strokeWidth" markerWidth="8" orient="auto" refX="9" refY="5" viewBox="0 0 10 10"><path style="stroke-width:1;stroke-dasharray:1,0" d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath"/></marker></defs></g></g><g class="edgeLabels"><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(165.984375,765.7781066894531) translate(-14.4296875,-11.875)"><foreignObject width="28.867" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(715.97265625,553.8390502929688) translate(-10.828125,-11.875)"><foreignObject width="21.66" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(517.6796875,977.7171630859375) translate(-14.4296875,-11.875)"><foreignObject width="28.867" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">yes</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(914.265625,977.7171630859375) translate(-10.828125,-11.875)"><foreignObject width="21.66" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel">no</span></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g><g style="opacity:1" class="edgeLabel"><g class="label" transform="translate(0, 0) translate(0,0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap"><span class="edgeLabel"/></div></foreignObject></g></g></g><g class="nodes" transform="translate(0, 0)"><g style="opacity:1" id="Start" class="node" transform="translate(540.125,39.8828125)"><circle x="-31.883" y="-21.875" r="31.883" class="label-container"/><g class="label"><g transform="translate(0,0) translate(-21.8828125,-11.875)"><foreignObject width="43.77" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Start</div></foreignObject></g></g></g><g style="opacity:1" id="hasAppCredentialsInSettings" class="node" transform="translate(540.125,319.3648376464844)"><polygon points="197.599 0 395.198 -197.599 197.599 -395.198 0 -197.599" class="label-container" transform="translate(-197.59921875,197.59921875)"/><g class="label"><g transform="translate(0,0) translate(-187.6796875,-11.875)"><foreignObject width="375.371" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">OAuthPromptSettings has AppCredentials?</div></foreignObject></g></g></g><g style="opacity:1" id="credsFromSetting" class="node" transform="translate(165.984375,1036.4671630859375)"><rect width="315.969" height="43.75" x="-157.984" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-147.984375,-11.875)"><foreignObject width="295.977" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">use AppCredentials from settings</div></foreignObject></g></g></g><g style="opacity:1" id="cachedCreds" class="node" transform="translate(715.97265625,765.7781066894531)"><polygon points="175.064 0 350.128 -175.064 175.064 -350.128 0 -175.064" class="label-container" transform="translate(-175.0640625,175.0640625)"/><g class="label"><g transform="translate(0,0) translate(-162.640625,-11.875)"><foreignObject width="325.293" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">Adapter has cached AppCredentials?</div></foreignObject></g></g></g><g style="opacity:1" id="returnCachedCreds" class="node" transform="translate(517.6796875,1036.4671630859375)"><rect width="287.422" height="43.75" x="-143.711" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-133.7109375,-11.875)"><foreignObject width="267.422" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">return cached AppCredentials</div></foreignObject></g></g></g><g style="opacity:1" id="buildCredentials" class="node" transform="translate(914.265625,1036.4671630859375)"><rect width="405.75" height="43.75" x="-202.875" y="-21.875" class="label-container" rx="0" ry="0"/><g class="label"><g transform="translate(0,0) translate(-192.875,-11.875)"><foreignObject width="385.762" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">BuildCredentialsAsync(), cache, and return</div></foreignObject></g></g></g><g style="opacity:1" id="End" class="node" transform="translate(517.6796875,1134.7327880859375)"><circle x="-26.391" y="-21.875" r="26.391" class="label-container"/><g class="label"><g transform="translate(0,0) translate(-16.390625,-11.875)"><foreignObject width="32.793" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;white-space:nowrap">End</div></foreignObject></g></g></g></g></g></g></svg>